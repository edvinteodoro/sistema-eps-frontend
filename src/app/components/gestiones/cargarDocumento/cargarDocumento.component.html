<div class="card">
	<p-toast key="tst"></p-toast>
	<div class="flex md:flex-row justify-content-between align-items-center">
		<div class="flex md:flex-row">
			<!--<span class="icon-atras block">
				<p-button icon="pi pi-chevron-left" (click)="listaBitacoras()"
					styleClass="p-button-rounded p-button-secondary p-button-text"></p-button>
			</span>-->
			<h5 *ngIf="idEtapaActiva===EtapaUtils.ID_ETAPA_CARGA_CONVOCATORIA_ANTEPROYECTO" class="titulo">Cargar Convocatoria</h5>
			<h5 *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_CARGA_CARTA_ACEPTACION_CONTRAPARTE" class="titulo">Cargar Carta de Aceptacion</h5>
			<h5 *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_BITACORA" class="titulo">Finalizar Bitacora</h5>
		</div>
	</div>

	<div class="card grid p-fluid mt-3">
		<div class="field col-12 md:col-12 pb-0">
			<label class="sub-title">Cargue los siguentes documentos solicitados:</label>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_CARGA_CONVOCATORIA_ANTEPROYECTO || 
		idEtapaActiva==EtapaUtils.ID_ETAPA_CARGA_CONVOCATORIA_EXAMEN_GENERAL" class="field col-12 md:col-12 pb-0">
			<label>Convocatoria Firmada:</label>
			<p-fileUpload chooseLabel="Seleccionar" (onSelect)="onUploadConvocatoriaFirmada($event)"
				(onRemove)="onRemoveConvocatoriaFirmada()" [multiple]="false" accept=".pdf" [maxFileSize]="1000000"
				[auto]="true">
			</p-fileUpload>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_CARGA_CARTA_ACEPTACION_CONTRAPARTE" class="field col-12 md:col-12 pb-0">
			<label>Carta Aceptacion Contraparte Institucional:</label>
			<p-fileUpload chooseLabel="Seleccionar" (onSelect)="onUploadCartaAceptacion($event)"
				(onRemove)="onRemoveCartaAceptacion()" [multiple]="false" accept=".pdf" [maxFileSize]="1000000"
				[auto]="true">
			</p-fileUpload>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_CARGA_CARTA_ACEPTACION_CONTRAPARTE" class="field col-12 md:col-12 pb-0">
			<label><b>Oficio a Contraparte Institucional: </b>En caso de multiples documentos cargarlos en un unico documento pdf.</label>
			<p-fileUpload chooseLabel="Seleccionar" (onSelect)="onUploadOficioContraparte($event)"
				(onRemove)="onRemoveOficioContraparte()" [multiple]="false" accept=".pdf" [maxFileSize]="1000000"
				[auto]="true">
			</p-fileUpload>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_BITACORA" class="field col-12 md:col-12 pb-0">
			<label>Finiquito de contraparte institucional: </label>
			<p-fileUpload chooseLabel="Seleccionar" (onSelect)="onUploadFiniquitoContraparte($event)"
				(onRemove)="onRemoveFiniquitoContraparte()" [multiple]="false" accept=".pdf" [maxFileSize]="1000000"
				[auto]="true">
			</p-fileUpload>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_CARGA_INFORME_FINAL" class="field col-12 md:col-12 pb-0">
			<label>Informe Final:</label>
			<p-fileUpload chooseLabel="Seleccionar" (onSelect)="onUploadInformeFinal($event)"
				(onRemove)="onRemoveInformeFinal()" [multiple]="false" accept=".pdf" [maxFileSize]="1000000"
				[auto]="true">
			</p-fileUpload>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_CARGA_INFORME_FINAL" class="field col-12 md:col-12 pb-0">
			<label>Carta de finalizacion de asesor:</label>
			<p-fileUpload chooseLabel="Seleccionar" (onSelect)="onUploadCartaFinalizacion($event)"
				(onRemove)="onRemoveCartaFinalizacion()" [multiple]="false" accept=".pdf" [maxFileSize]="1000000"
				[auto]="true">
			</p-fileUpload>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_REDACCION_ARTICULO" class="field col-12 md:col-12 pb-0">
			<label>Cargar articulo cientifico: </label>
			<p-fileUpload chooseLabel="Seleccionar" (onSelect)="onUploadArticulo($event)"
				(onRemove)="onRemoveArticulo()" [multiple]="false" accept=".pdf" [maxFileSize]="1000000" [auto]="true">
			</p-fileUpload>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_REDACCION_ARTICULO" class="field col-12 md:col-12 pb-0">
			<label>Cargar carta de traductor jurado: </label>
			<p-fileUpload chooseLabel="Seleccionar" (onSelect)="onUploadTraduccionArticulo($event)"
				(onRemove)="onRemoveTraduccionArticulo()" [multiple]="false" accept=".pdf" [maxFileSize]="1000000"
				[auto]="true">
			</p-fileUpload>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_REDACCION_ARTICULO" class="field col-12 md:col-12 pb-0">
			<label>Cargar Constancia de Revision Linguistica: </label>
			<p-fileUpload chooseLabel="Seleccionar" (onSelect)="onUploadRevisionLinguistica($event)"
				(onRemove)="onRemoveRevisionLinguistica()" [multiple]="false" accept=".pdf" [maxFileSize]="1000000"
				[auto]="true">
			</p-fileUpload>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_DICTAMEN_REVISION" class="field col-12 md:col-12 pb-0">
			<label>Cargar Dictamen de Supervisor: </label>
			<p-fileUpload chooseLabel="Seleccionar" (onSelect)="onUploadDictamenRevision($event)"
				(onRemove)="onRemoveDictamenRevision()" [multiple]="false" accept=".pdf" [maxFileSize]="1000000"
				[auto]="true">
			</p-fileUpload>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_DICTAMEN_REVISION" class="field col-12 md:col-12 pb-0">
			<label>Cargar Carta de Revisor: </label>
			<p-fileUpload chooseLabel="Seleccionar" (onSelect)="onUploadCartaRevision($event)"
				(onRemove)="onRemoveCartaRevision()" [multiple]="false" accept=".pdf" [maxFileSize]="1000000"
				[auto]="true">
			</p-fileUpload>
		</div>
		<div class="field col-12 md:col-6 pb-0">
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_BITACORA" class="field col-12 md:col-6 pb-0">
			<p-button icon="pi pi-check" styleClass="p-button-outlined" label="Finalizar Bitacora"
				(click)="finalizarBitacora()"
				[disabled]="!finiquitoContraparte"></p-button>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_CARGA_INFORME_FINAL" class="field col-12 md:col-6 pb-0">
			<p-button icon="pi pi-check" styleClass="p-button-outlined" label="Cargar Informe Final"
				(click)="cargarInformeFinal()"
				[disabled]="!informeFinal || !cartaFinalizacion"></p-button>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_CARGA_CONVOCATORIA_ANTEPROYECTO || 
		idEtapaActiva==EtapaUtils.ID_ETAPA_CARGA_CONVOCATORIA_EXAMEN_GENERAL" class="field col-12 md:col-6 pb-0">
			<p-button icon="pi pi-check" styleClass="p-button-outlined" label="Cargar Convocatoria"
				(click)="cargarConvocatoria()" [disabled]="!convocatoriaFirmada"></p-button>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_CARGA_CARTA_ACEPTACION_CONTRAPARTE" class="field col-12 md:col-6 pb-0">
			<p-button icon="pi pi-check" styleClass="p-button-outlined" label="Cargar Carta de Aceptacion"
				(click)="cargarCartaAceptacion()" [disabled]="!cartaAceptacion || !oficioContraparte"></p-button>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_REDACCION_ARTICULO" class="field col-12 md:col-6 pb-0">
			<p-button icon="pi pi-check" styleClass="p-button-outlined" label="Cargar Articulo"
				(click)="cargarArticulo()" [disabled]="!articulo || !traduccionArticulo || !constanciaLinguistica"></p-button>
		</div>
		<div *ngIf="idEtapaActiva==EtapaUtils.ID_ETAPA_DICTAMEN_REVISION" class="field col-12 md:col-6 pb-0">
			<p-button icon="pi pi-check" styleClass="p-button-outlined" label="Cargar Documentos"
				(click)="cargarDictamenCartaRevision()" [disabled]="!dictamenRevision || !cartaRevision"></p-button>
		</div>
	</div>
</div>
<p-confirmDialog header="Confirmacion" key="confirm1" icon="pi pi-exclamation-triangle" [style]="{width: '350px'}"
	acceptButtonStyleClass="p-button-text" rejectButtonStyleClass="p-button-text"></p-confirmDialog>
<style>
	.titulo {
		color: #00274e;
		font-weight: bold;
	}

	.icon-atras {
		margin-top: 10px;
	}

	.text {
		color: black;
	}

	.sub-title {
		font-weight: bold;
	}

	.file {
		margin-left: 10px;
	}

	.file i {
		margin-right: 5px;
	}

	.file-container {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 5px;
	}

	.button-center {
		margin-left: auto;
		/* Push the button to the right (center vertically) */
	}
</style>