<div class="card">
	<p-toast key="tst"></p-toast>
    <h5 class="titulo">Solicitudes de Prorroga EPS</h5>
	<div class="grid p-fluid mt-3">
        <div class="field col-12 md:col-6 pb-0">
            <input pInputText placeholder="Nombres" [(ngModel)]="nombreFilter" />
        </div>
        <div class="field col-12 md:col-5 pb-0">
            <input pInputText placeholder="Registro Academico" [(ngModel)]="registroFilter" />
        </div>
        <div class="field col-12 md:col-1 pb-0">
            <p-button icon="pi pi-search" styleClass="p-button-rounded p-button-secondary p-button-outlined"
                (click)="buscar()"></p-button>
        </div>
    </div>
	<p-table [value]="prorrogas" [paginator]="true" [rows]="10" [lazy]="true" (onLazyLoad)="loadProrrogas($event)"
		[totalRecords]="totalRecords" [loading]="isLoading">
		<ng-template pTemplate="header">
			<tr>
				<th pSortableColumn="estudiante">Estudiante</th>
				<th pSortableColumn="registroAcademico">Registro academico</th>
				<th pSortableColumn="fechaSolicitud">Fecha de solicitud</th>
				<th pSortableColumn="diasSolicitados">Dias Solicitados</th>
				<th pSortableColumn="estado">Estado</th>
				<th></th>
			</tr>
		</ng-template>
		<ng-template pTemplate="body" let-prorroga>
			<tr>
				<td style="width:30%"><span class="p-column-title">Estudiante</span>
					{{prorroga.proyecto.usuario.nombreCompleto}}
				</td>
				<td style="width:15%;"><span class="p-column-title">Registro academico</span>
					{{prorroga.proyecto.usuario.registroAcademico}}
				</td>
				<td style="width:10%;min-width: 8rem;"><span class="p-column-title">Fecha de solicitud</span>
					{{prorroga.fechaSolicitud}}
				</td>
				<td style="width: 5%"><span class="p-column-title">Dias solicitados</span>
					{{prorroga.diasExtension}}
				</td>
				<td style="width:10%"><span class="p-column-title">Estado</span>
					<p-tag *ngIf="prorroga.aprobado==true" severity="success" value="APROBADO"></p-tag>
                    <p-tag *ngIf="prorroga.aprobado==false" severity="danger" value="RECHAZADO"></p-tag>
                    <p-tag *ngIf="prorroga.aprobado==undefined" severity="Info" value="PENDIENTE"></p-tag>
				</td>
				<td>
					<div class="flex">
						<p-button icon="pi pi-eye" styleClass="p-button-rounded p-button-success p-button-outlined"
						(onClick)="revisarProrroga(prorroga)"></p-button>
					</div>
				</td>
			</tr>
		</ng-template>
	</p-table>
</div>
<style>
	.titulo {
		color: #00274e;
		font-weight: bold;
	}
</style>